/* layout */
.voice-chat-container { display:flex; justify-content:center; align-items:center; min-height:100vh; background:#fafafa; }
.voice-chat-box { width:92%; max-width:520px; background:#fff; border-radius:16px; box-shadow:0 6px 24px rgba(0,0,0,.08); overflow:hidden; }

/* top bar */
.voice-topbar { display:flex; align-items:center; justify-content:space-between; padding:.75rem 1rem; border-bottom:1px solid #eee; }
.back-btn { border:none; background:transparent; font-size:1.25rem; cursor:pointer; }
.voice-chat-header { font-weight:700; font-size:1rem; }
.exit-chip { border:1px solid #ddd; background:#f8f8f8; padding:.25rem .6rem; border-radius:999px; font-size:.85rem; cursor:pointer; }
.spacer { width:24px; }

/* topic picker */
.voice-topic-overlay { padding:1rem; }
.voice-topic-card { background:#fff; border:1px solid #eee; border-radius:12px; padding:1rem; }
.voice-topic-grid { margin-top:.5rem; display:grid; grid-template-columns:1fr; gap:.5rem; }
.voice-topic-item { display:flex; align-items:center; gap:.75rem; padding:.75rem; border:1px solid #eee; border-radius:12px; background:#fcfcfc; cursor:pointer; }
.voice-topic-item:hover { background:#f6f6f6; }
.voice-topic-emoji { font-size:1.5rem; }
.voice-topic-main { flex:1; }
.voice-topic-title { font-weight:700; }
.voice-topic-desc { font-size:.9rem; color:#666; }
.voice-topic-chevron { color:#bbb; }
.sr-warn { margin:.5rem 0; color:#b00020; font-size:.9rem; }

/* messages */
.voice-chat-messages { max-height:46vh; overflow:auto; padding:1rem; display:flex; flex-direction:column; gap:.75rem; background:#fff; }
.vmsg-row { display:flex; align-items:flex-end; gap:.5rem; }
.vmsg-row.ai { justify-content:flex-start; }
.vmsg-row.user { justify-content:flex-end; }
.v-avatar { width:28px; height:28px; display:flex; align-items:center; justify-content:center; background:#f0f0f0; border-radius:50%; font-size:1rem; }
.v-bubble { max-width:76%; padding:.6rem .8rem; border-radius:14px; font-size:.95rem; line-height:1.35; position:relative; border:1px solid #eee; }
.v-bubble.ai { background:#f7f7f9; }
.v-bubble.user { background:#e9f6ff; border-color:#cde8ff; }
.v-meta { font-size:.75rem; color:#888; margin-top:.35rem; }

/* feedback inside user bubble */
.b-sep { height:8px; }
.bfb { border:1px dashed #ddd; border-radius:10px; padding:.5rem; background:#fff; }
.bfb-head { display:flex; align-items:center; gap:.5rem; font-weight:700; margin-bottom:.25rem; }
.bfb-dot { width:10px; height:10px; border-radius:50%; display:inline-block; }
.bfb-perfect .bfb-dot { background:#22c55e; }
.bfb-neutral .bfb-dot { background:#f59e0b; }
.bfb-needs .bfb-dot { background:#ef4444; }
.bfb-label { font-size:.9rem; }
.bfb-explain { font-size:.88rem; color:#555; margin:.25rem 0; }
.bfb-sg-title { font-size:.8rem; font-weight:700; color:#333; margin-top:.25rem; }
.bfb-sg-text { font-size:.9rem; color:#222; }

/* transcript */
.voice-transcript { border-top:1px solid #f0f0f0; padding:.75rem 1rem; text-align:center; }
.pill { display:inline-block; padding:.1rem .5rem; border:1px solid #ddd; border-radius:999px; font-size:.8rem; color:#666; margin-bottom:.25rem; }
.pill.live { border-color:#ef4444; color:#ef4444; }
.transcript-text { font-size:1rem; color:#222; min-height:1.5em; }
.transcript-text em { color:#666; }

/* controls */
.voice-controls { display:flex; align-items:center; justify-content:center; gap:1rem; padding:1rem; }
.mic-btn { width:76px; height:76px; border-radius:50%; border:none; cursor:pointer; background:#eee; font-size:2rem; }
.mic-btn.active { background:#ef4444; color:#fff; }
.wave { display:flex; align-items:flex-end; gap:4px; height:40px; }
.wave span { width:6px; height:12px; background:#ddd; border-radius:3px; animation:wv 1s infinite ease-in-out; }
.wave span:nth-child(2){ animation-delay:.1s } .wave span:nth-child(3){ animation-delay:.2s }
.wave span:nth-child(4){ animation-delay:.3s } .wave span:nth-child(5){ animation-delay:.4s }
@keyframes wv { 0%,100%{ height:12px } 50%{ height:28px } }

/* small screens */
@media (max-height:720px){
  .voice-chat-messages{ max-height:40vh; }
}
